"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const x=require("mitt"),t=require("vue"),c=x();let T=0;const C=()=>{const n=T;return T+=1,n},p=()=>(n,i)=>{const e={...n,id:C(),group:n.group||""};return c.emit("notify",{notification:e,timeout:i}),()=>c.emit("close",e.id)},g="context",a=t.defineComponent({__name:"Notification",props:{maxNotifications:{default:10},enter:{default:""},enterFrom:{default:""},enterTo:{default:""},leave:{default:""},leaveFrom:{default:""},leaveTo:{default:""},move:{default:""},moveDelay:{default:""}},emits:["close"],setup(n,{emit:i}){const e=n,l=t.inject(g),r=t.reactive({notifications:[],timeouts:{}}),u=t.computed(()=>r.notifications.filter(o=>o.group===l.group)),N=t.computed(()=>l.position==="bottom"?[...u.value].slice(0,e.maxNotifications):[...u.value].reverse().slice(0,e.maxNotifications)),d=(o,s)=>{r.timeouts[o]=window.setTimeout(()=>{f(o)},s||3e3)},f=o=>{r.notifications.splice(r.notifications.findIndex(s=>s.id===o),1),clearTimeout(r.timeouts[o])},_=({notification:o,timeout:s})=>{r.notifications.push(o),d(o.id,s)},y=o=>{i("close"),f(o)},h=(o,s,v)=>{s?clearTimeout(r.timeouts[o]):d(o,v)};return t.onMounted(()=>{c.on("notify",_),c.on("close",f)}),(o,s)=>(t.openBlock(),t.createBlock(t.TransitionGroup,{"enter-active-class":t.unref(u).length>1?[e.enter,e.moveDelay].join(" "):e.enter,"enter-from-class":e.enterFrom,"enter-to-class":e.enterTo,"leave-active-class":e.leave,"leave-from-class":e.leaveFrom,"leave-to-class":e.leaveTo,"move-class":e.move},{default:t.withCtx(()=>[t.renderSlot(o.$slots,"default",{notifications:t.unref(N),close:y,hovering:h})]),_:3},8,["enter-active-class","enter-from-class","enter-to-class","leave-active-class","leave-from-class","leave-to-class","move-class"]))}}),m=t.defineComponent({__name:"NotificationGroup",props:{group:{default:""},position:{default:"top"}},setup(n){const i=n;return t.provide(g,{group:i.group,position:i.position}),(e,l)=>t.renderSlot(e.$slots,"default",{group:n.group})}});function E(n){n.config.globalProperties.$notify=p(),n.component("Notification",a),n.component("NotificationGroup",m),n.component("notification",a),n.component("notificationGroup",m)}const F={install:E};function G(){return t.defineComponent((i,{slots:e})=>()=>t.h(a,i,e))}const w=p();exports.Notification=a;exports.NotificationGroup=m;exports.createNotifier=p;exports.default=F;exports.defineNotificationComponent=G;exports.notify=w;
